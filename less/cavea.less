/*
 * Copyright (c) 2012-2013 Kelly McCauley
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/* 

=========== BEGIN Bootstrap =========== 

*/

@import "bootstrap.less";

/* 

===========  END Bootstrap  =========== 

*/

/*
 *
 * Cavea customizations
 *
 */
.set-font-size (@fontSize) {
  @media (max-width: @container-desktop) {
    font-size: ceil((@fontSize * @font-size-scale-tablet));
  }
  @media (min-width: @container-desktop) {
    font-size: ceil(@fontSize); 
  }
}

.inline-notation (@borderColor:@code-border-color; @textColor:@code-color; @backgroundColor:@code-bg; @fontSize:@code-font-size; @fontWeight:inherit) {
  .set-font-size(@fontSize);
  font-size: @fontSize;
  font-weight: @fontWeight;
  color: @textColor;
  background-color: @backgroundColor;
  border: 1px solid @borderColor;
}


.book-division () {
  border-bottom: 1px solid @book-division-border-color;
  padding-top: @book-division-padding-top;
  padding-bottom: @book-division-padding-bottom;
}

.section-header () {
  font-family: @section-header-font-family;
  font-weight: @section-header-font-weight;
}

//
// Typography
//
p {
  margin: 0 0 @line-height-computed;
}

// h1, .h1 { 
//   .set-font-size(@font-size-h1);
// }
// h2, .h2 { 
//   .set-font-size(@font-size-h2);
// }
// h3, .h3 { 
//   .set-font-size(@font-size-h3);
// }
// h4, .h4 { 
//   .set-font-size(@font-size-h4);
// }
// h5, .h5 { 
//   .set-font-size(@font-size-h5);
// }
// h6, .h6 { 
//   .set-font-size(@font-size-h6);
// }
//  
// h1 {
//   margin-top: (@line-height-computed * 2.5);
//   margin-bottom: (@line-height-computed * 1.5);
// }
// 
// h2,
// h3 {
//   margin-top: (@line-height-computed * 2);
//   margin-bottom: (@line-height-computed * 1.25);
// }
// 
// h4,
// h5,
// h6 {
//   color: @headings-minor-color;
//   margin-top: (@line-height-computed * 1.5);
//   margin-bottom: (@line-height-computed * 1.25);
// }
// 
// h1, h2, h3, h4, h5, h6 {
//   a {
//     color: @headings-link-color;
//     &:hover,
//     &:focus {
//       color: @headings-link-color;
//     }
//   }
// 
//   small {
//     color: @headings-minor-color;
//   }
// }
// 
// h1 small { font-size: @font-size-h1-small; }
// h2 small { font-size: @font-size-h2-small; }
// h3 small { font-size: @font-size-h3-small; }
// h4 small { font-size: @font-size-h4-small; }

#cover-front-outside {
  > .title {
    font-family: @title-font-family;
    font-weight: @title-font-weight;
    .set-font-size(@title-font-size);
    text-align: center;
    
  }

  > .subtitle {
    font-family: @subtitle-font-family;
    font-weight: @subtitle-font-weight;
    .set-font-size(@subtitle-font-size);
    text-align: center;
  }

}

// main section h1 {
//   font-family: @section-header-font-family;
//   font-weight: @section-header-font-weight;
// }

// main.book > .info {
//   display: none;
// }

main.book {
  > .book-info {
    display: none;
  }

  section.cover-front-outside,
  section.cover-front-inside,
  section.acknowledgements,
  section.bibliography,
  section.division,
  section.information,
  section.dedication,
  section.toc,
  section.preface,
  section.chapter,
  section.glossary,
  section.index,
  section.appendix,
  section.cover-back-outside,
  section.cover-back-inside {
    .book-division
  }

  .copyright {
    color: @copyright-color;
  }


  section {
    hgroup h1.title, 
    h1.title {
      font-family: @section-header-font-family;
      font-weight: @section-header-font-weight;
      .set-font-size(@font-size-h1);

      .section-number {
        padding-right: 0.5em;
      }
    }

    > section {
      hgroup h1.title, 
      h1.title { 
        .set-font-size((@font-size-h1 * 0.8));
      }
    }

    > section > section {
      hgroup h1.title, 
      h1.title { 
        .set-font-size((@font-size-h1 * 0.6));
      }
    }

    > section > section > section {
      hgroup h1.title, 
      h1.title { 
        .set-font-size((@font-size-h1 * 0.5));
      }
    }

    > section > section > section > section {
      hgroup h1.title, 
      h1.title { 
        .set-font-size(@font-size-base);
      }
    }

  }

  // TOC
  //
  .toc {
    .toc-content {
      nav ul {
        list-style: @toc-list-style;
      }
    }
  }
  
  // Figures
  //
  figcaption {
    text-align: @figcaption-text-align;
    font-family: @figcaption-font-family;
    font-weight: @figcaption-font-weight;
  
    .figure-number {
      padding-left: 0.25em;
      padding-right: 0.25em;
    }
  }
  
  .lof {
    .lof-content {
      ul {
        list-style: @toc-list-style;
      }
    }
  }
  
  // Tables
  //
  table > caption {
    text-align:  @tablecaption-text-align;
    font-family: @tablecaption-font-family;
    font-weight: @tablecaption-font-weight;
  
    .table-number {
      padding-left: 0.25em;
      padding-right: 0.25em;
    }
  
  }
}

// section {
//   h1, .h1 { 
//     .set-font-size(@font-size-h1);
//   }
// }


// section > section {
//   h1, .h1 { 
//     .set-font-size((@font-size-h1 * 0.8));
//   }
// }
// 
// section > section > section {
//   h1, .h1 { 
//     .set-font-size((@font-size-h1 * 0.6));
//   }
// }
// 
// section > section > section > section {
//   h1, .h1 { 
//     .set-font-size((@font-size-h1 * 0.5));
//   }
// }
// 
// section > section > section > section > section {
//   h1, .h1 { 
//     .set-font-size(@font-size-base);
//   }
// }

//
// Notation
//

/* Denotes a die. */
span.d {
  color: @d-color;
  font-weight: 500;
}

code,
pre {
  font-size: @code-font-size;
  color: @code-color;
}

code {
  padding: 1px 4px;
  margin: 0 1px 0 0;
  .inline-notation (@code-border-color; @code-color; @code-bg; @code-font-size; @code-font-weight);

  code, sub, sup {
    margin: 0 0 0 0;
    font-size: (@code-font-size * 0.60);
  }

}

/* Denotes rolling a die or level pool. */
code.r {
  .inline-notation (@r-border-color; @r-color; @r-bg);
}

/* Denotes a level pool. */
code.lp {
  .inline-notation (@lp-border-color; @lp-color; @lp-bg; @lp-font-size);
}


blockquote {
  font-size: @font-size-base;
  border-left: 5px solid @gray-lighter;

  p {
    font-size: (@font-size-base * 1.10);
  }
}


.panel {
  margin-bottom: 30px;
}

.panel-example {
  border-color: @panel-example-border-color;
  color: @panel-example-color;

  .panel-heading {
    color: @panel-example-heading-color;
    border-color: @panel-example-border-color;
    background-color: @panel-example-heading-bg;
  }

}

.panel-figure {
  color: @panel-figure-color;
  border-color: @panel-figure-border-color;
  background-color: @panel-figure-bg;

  .panel-heading {
    color: @panel-figure-caption-color;
    background-color: @panel-figure-caption-bg;
    border-color: @panel-figure-border-color;
  }

  .panel-footer {
    color: @panel-figure-caption-color;
    border-color: @panel-figure-border-color;
    background-color: @panel-figure-caption-bg;

  }

}

.header {
  margin-bottom: (@line-height-computed * 1.1);
  margin-top: (@line-height-computed * 1.1);
}

.footer {
  margin-top: (@line-height-computed * 2.5);
  margin-bottom: (@line-height-computed * 1.5);
}


// Posts
//

.post-article {
  .post-article-heading {
    .set-font-size(@post-article-heading-font-size);
    font-weight: @post-article-heading-font-weight;
    text-align: center;

    margin: 0 0 8px;
  }

  .post-article-by {
    font-size: @post-article-by-font-size;
    color: @post-article-by-color;
    text-align: center;
  }

}

.post-summary {

  .post-summary-teaser {
    text-align: center;
  }
  
  h1 {
    .set-font-size(@post-summary-heading-font-size);
    font-weight: @post-summary-heading-font-weight;
    color: @post-summary-heading-color;
    text-align: center;
    margin: 0 0 8px;

  }

  .post-summary-by {
      font-size: @post-summary-by-font-size;
      color: @post-summary-by-color;
  }

}




